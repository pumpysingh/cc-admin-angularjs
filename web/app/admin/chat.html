<div class="loader-spinner" ng-if="chatloader" id="chatloader">
    <div class="spinner-border-loader" role="status">
        <span class="sr-only-loader">Loading...</span>
    </div>
</div>
<!-- Page Content -->
<div id="wrapper">

    <!-- ============================================================== -->
    <div id="page-wrapper">
        <div class="container-fluid">
            <div class="row bg-title">
                <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
                    <h4 class="page-title margin-0">Chat</h4>
                </div>
                <div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
                    <!-- <select name="channel" id="channelId" class="chat_filter">
                        <option value="all">All</option>
                        <option value="SMS">SMS</option>
                        <option value="directline">Web</option>
                    </select> -->
                    <span style="margin-left: 28px;" id="throttleCount">Total usage count from {{StartTime}} to {{EndTime}} (EST): <strong>{{CurrentUsageCount}}/{{ThrottleCount}}</strong></span>
                    <!-- <ol class="breadcrumb margin-0">
                        <li><a href="javascript:void(0)">Dashboard</a></li>
                        <li class="active">Chat</li>
                    </ol> -->
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- .chat-row -->
            <div class="chat-main-box">
                <!-- .chat-left-panel -->
                <div class="chat-left-aside">
                    <div class="open-panel"><i class="ti-angle-right"></i></div>
                    <div class="chat-left-inner">
                        <!--<div class="form-material">-->
                        <!--<input class="form-control p-20" type="text" placeholder="Search Contact">-->
                        <!--</div>-->
                        <ul class="chatonline style-none chatH">
                            <li ng-repeat="chat in chats track by $index" id="{{ 'conId-' + $index }}">
                                <a href="javascript:void(0)" style="position: relative;">

                                    <div class="main-part b-btm-dash"
                                        ng-click="chatMsg(chat.id, chat.createdAt, chat.fname+' '+chat.lname,$index)">
                                        <div class="col-md-2" style="padding-right: 0;">
                                            <div class="id-cir" ng-style="{'background-color' : chat.color}">
                                                <span class="cap">{{chat.logo}}</span>
                                            </div>
                                        </div>

                                        <div class="col-md-10" style="padding-left: 0;">
                                            <p class="margin-0 userid float-left" style="">{{chat.fname}} {{chat.lname}}
                                            </p>
                                            <!-- <span class="mis-numbox"><i>{{chat.errorcount}}</i></span> -->
                                            <ul class="user-ul">
                                                <li>
                                                    <p class="margin-0 font-11 color-gray font-400"><i
                                                            class="fa fa-phone marg-r5"></i> {{chat.phone}} </p>
                                                </li>
                                                <li>
                                                    <p class="margin-0   font-11 color-gray font-400"><i
                                                            class="fa fa-calendar marg-r5"></i> {{chat.createdAt}} </p>

                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div ng-click="archiveChat(chat.id)" class="arch-btn" title="Archive Chat">
                                        <i class="fa fa-archive"></i>
                                    </div>
                                </a>


                            </li>



                            <li class="userbtns">

                                <div class="col-md-6  padding-top-1">

                                    <a href="javascript:;" ng-class="{disabled : !pbtdis}" ng-click="prevButton()"
                                        class="btn btn-info btn-sm">Previous</a>

                                </div>

                                <div class="col-md-6  padding-top-1">

                                    <a href="javascript:;" ng-class="{disabled : !nbtdis}" ng-click="nextButton()"
                                        class="btn  btn-primary btn-sm">Next</a>
                                </div>
                            </li>



                            <!--<li class="p-20"></li>-->
                        </ul>
                    </div>
                </div>
                <!-- .chat-left-panel -->
                <!-- .chat-right-panel -->
                <div class="chat-right-aside">
                    <div class="chat-main-header main-part">
                        <div class="p-10 b-b main-part" style="    background-color: #6e707d;">
                            <h5 class="box-title margin-0 float-left text-white">Chat History | <span ng-if="arcbtn"
                                    class="text-white userid">{{name}}</span></h5>
                            <a ng-if="arcbtn" ng-click="archiveChat(convid)" href="javascript:;"
                                class="text-white arch-ic" title="Archive Chat"><i class="fa fa-archive"></i></a>
                            <a ng-if="arcbtn" ng-click="download(convid)" href="javascript:;" class="text-white arch-ic"
                                title="Download Chat"><i class="fa fa-download"></i></a>
                            <small ng-if="arcbtn" class="color-light-gray float-right" style="margin-top: 3px;"><i
                                    class="fa fa-calendar marg-r5"></i> {{date}} <span></span></small>
                        </div>
                    </div>
                    <div class="chat-box main-part">
                        <ul class="chat-list p-t-30" id="style-4">
                            <div ng-if="arcbtn" ng-repeat="cd in chatDetails">
                                <li ng-if="cd.sender == 'user'">
                                    <div class="chat-body">
                                        <div id="{{ 'objectchat-' + $index }}" class="chat-text">
                                            <h4 id="{{ 'chatHL-' + $index }}">{{name}}</h4>
                                            <p ng-bind-html="cd.text"></p>
                                        </div>
                                    </div>
                                </li>
                                <!-- Show Simple Message -->
                                <li ng-if="cd.sender == 'xander' && cd.type != 'showcontinuebtn' && cd.type !== 'showscreengrab' && cd.type != 'buttonwithlink' && cd.msgtype != 'application/vnd.microsoft.keyboard' && cd.msgtype != 'endOfConversation'"
                                    class="odd">
                                    <div class="chat-body">
                                        <div class="chat-text">
                                            <h4 class="light-purple-text">Bailey</h4>
                                            <p ng-bind-html="cd.text"></p>
                                        </div>
                                    </div>
                                </li>
                                <!-- Show Continue Button-->
                                <li ng-if="cd.sender == 'xander' && cd.type == 'showcontinuebtn' && cd.type !== 'showscreengrab' && cd.type != 'buttonwithlink' && cd.msgtype != 'application/vnd.microsoft.keyboard' && cd.msgtype != 'endOfConversation'"
                                    class="odd">
                                    <div class="chat-body">
                                        <div class="chat-text">
                                            <h4 class="light-purple-text">Bailey</h4>
                                            <p>Continue Chat</p>
                                        </div>
                                    </div>
                                </li>
                                <!-- Show Buttons -->
                                <li class="odd" ng-if="cd.sender == 'xander' && cd.msgtype == 'application/vnd.microsoft.keyboard'">
                                    <div class="chat-body chat-tble">
                                        <div class="chat-text">
                                            <h4 class="light-purple-text">Bailey</h4>

                                            <div class="card-listing  main-part marg-t5">
                                                <!-- card listing -->

                                                <div class="main-part">
                                                    <!-- <h3 class="card-name margin-0 title"><a href="javascript:;" class="">{{cd.text}}</a> -->
                                                    <h3 class="card-name margin-0 title"><a href="javascript:;" class=""
                                                            ng-bind-html="cd.text"></a>
                                                    </h3>
                                                </div>

                                                <div ng-repeat="md in cd.btns track by $index"
                                                    class="main-part margin-top-1">

                                                    <a href="javacript:void(0)"
                                                        class="btn btn-green btn-sm">{{md.btn}}</a>
                                                </div>

                                            </div>
                                            <!-- /.card listing -->

                                        </div>
                                    </div>
                                </li>
                                <!-- Show Button With Link -->
                                <li class="odd" ng-if="cd.sender == 'xander' && cd.type == 'buttonwithlink'">
                                    <div class="chat-body chat-tble">
                                        <div class="chat-text">
                                            <h4 class="light-purple-text">Bailey</h4>

                                            <div class="card-listing  main-part marg-t5">
                                                <!-- card listing -->

                                                <div class="main-part">
                                                    <!-- <h3 class="card-name margin-0 title"><a href="javascript:;" class="">{{cd.text}}</a> -->
                                                    <h3 class="card-name margin-0 title"><a href="javascript:;" class=""
                                                            ng-bind-html="cd.text"></a>
                                                    </h3>
                                                </div>

                                                <div class="main-part margin-top-1">
                                                    <a ng-href="{{cd.BtnLink}}" target="_blank"
                                                     class="btn btn-green btn-sm">{{cd.BtnText}}</a>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </li>
                                <!-- Show Screen Grabs -->
                                <li class="odd" ng-if="cd.sender == 'xander' && cd.type == 'showscreengrab'">
                                    <div class="chat-body chat-tble">
                                        <div class="chat-text">
                                            <h4 class="light-purple-text">Bailey</h4>
                                
                                            <div class="card-listing  main-part marg-t5">
                                                <!-- card listing -->
                                
                                                <div class="main-part">
                                                    <!-- <h3 class="card-name margin-0 title"><a href="javascript:;" class="">{{cd.text}}</a> -->
                                                    <h3 class="card-name margin-0 title"><a href="javascript:;" class="" ng-bind-html="cd.text"></a>
                                                    </h3>
                                                </div>
                                
                                                <div class="main-part margin-top-1">
                                                    <img ng-src="{{cd.imageLink}}" style="max-width: 587px;"></a>
                                                </div>
                                
                                            </div>
                                
                                        </div>
                                    </div>
                                </li>
                                <div>
                        </ul>
                        <!--<div class="row send-chat-box">-->
                        <!--<div class="col-sm-12">-->
                        <!--<textarea class="form-control" placeholder="Type your message"></textarea>-->
                        <!--<div class="custom-send"><a href="javacript:void(0)" class="cst-icon" data-toggle="tooltip" title="Insert Emojis"><i class="ti-face-smile"></i></a> <a href="javacript:void(0)" class="cst-icon" data-toggle="tooltip" title="File Attachment"><i class="fa fa-paperclip"></i></a>-->
                        <!--<button class="btn btn-primary btn-rounded" type="button">Send</button>-->
                        <!--</div>-->
                        <!--</div>-->
                        <!--</div>-->
                    </div>
                </div>
                <!-- .chat-right-panel -->
            </div>
            <!-- /.chat-row -->

            <!-- ============================================================== -->
        </div>
        <!-- /.container-fluid -->
    </div>

</div>
<!-- /#page-wrapper -->